(this["webpackJsonpdcc-poc"]=this["webpackJsonpdcc-poc"]||[]).push([[0],{146:function(e,t){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(11),c=a.n(s),i=(a(97),a(12)),o=a(34),l=a(203),u=a(204),d=a(205),m=a(206),p=a(157),j=a(211),b=a(207),f=a(210),h=a(208),g=a(202),O=a(156),x=a(7),v=a.n(x),w=a(13),I=a(201),y=a(209),k=a(212),S=a(197),C=a(35),N=a.n(C),T="60c35e50c2e7a08128f87a1b",W="5f476f84998b7900197c2e88",B="webchat",M=function(){return N.a.post("https://sxp-dev.techsophy.com/sxp/api/projects/60be14a1c984fd0012193c15/secured-routes/generate-dialogue-url",{appId:"60c35e50c2e7a08128f87a1b",dialogue:"registration"},{headers:{token:localStorage.getItem("token")}})},F=function(e,t){return N.a.post("".concat(e),t,{headers:{token:localStorage.getItem("token")}})},P=a(3),q=["Yes","No"],D=["Miss","Mr","Ms.","Mrs."],_=["USA","UAE","India","France","Germany"];function A(){var e=r.a.useState(""),t=Object(i.a)(e,2),a=t[0],s=t[1],c=r.a.useState(""),o=Object(i.a)(c,2),l=o[0],u=o[1],d=r.a.useState(""),m=Object(i.a)(d,2),p=m[0],j=m[1],b=r.a.useState(""),f=Object(i.a)(b,2),h=f[0],g=f[1],x=r.a.useState(""),C=Object(i.a)(x,2),N=C[0],A=C[1],E=r.a.useState(""),U=Object(i.a)(E,2),J=U[0],L=U[1],Q=r.a.useState(""),R=Object(i.a)(Q,2),Y=R[0],X=R[1],H=r.a.useState(""),V=Object(i.a)(H,2),$=V[0],z=V[1],G=r.a.useState(""),K=Object(i.a)(G,2),Z=K[0],ee=K[1],te=r.a.useState(""),ae=Object(i.a)(te,2),ne=ae[0],re=ae[1],se=r.a.useState(""),ce=Object(i.a)(se,2),ie=ce[0],oe=ce[1],le=r.a.useState(""),ue=Object(i.a)(le,2),de=ue[0],me=ue[1],pe=r.a.useState(""),je=Object(i.a)(pe,2),be=je[0],fe=je[1],he=Object(S.a)(Object(w.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("last name debounced",J,l,ne,Y),J&&ne&&Y){e.next=5;break}return t={appId:T,state:{userName:J,title:l,firstName:ne,lastName:Y},userId:W,channel:B},e.next=5,F(a,t);case 5:case"end":return e.stop()}}),e)}))),1e3),ge=Object(S.a)(Object(w.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("last name debounced",J,l,ne,Y),t={appId:T,state:{userName:J,nationality:de,title:l,residency:N,firstName:ne,lastName:Y},userId:W,channel:B},e.next=4,F(a,t);case 4:case"end":return e.stop()}}),e)}))),1e3),Oe=Object(S.a)(Object(w.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={appId:T,state:{userName:J},userId:W,channel:B},e.next=3,F(a,t);case 3:case"end":return e.stop()}}),e)}))),1e3),xe=Object(S.a)(Object(w.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("email debounced",de,N,ie,p),t=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(.\w{2,3})+$/i,p.match(t),n={appId:T,state:{userName:J,nationality:de,title:l,residency:N,firstName:ne,emiratesId:ie,lastName:Y,email:p},userId:W,channel:B},e.next=6,F(a,n);case 6:case"end":return e.stop()}}),e)}))),1e3),ve=Object(S.a)(Object(w.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={appId:T,state:{userName:J,title:l,firstName:ne},userId:W,channel:B},e.next=3,F(a,t);case 3:case"end":return e.stop()}}),e)}))),1e3),we=Object(S.a)(Object(w.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={appId:T,state:{userName:J,nationality:de,title:l,residency:N,firstName:ne,emiratesId:ie,lastName:Y,email:p,mobile:h},userId:W,channel:B},e.next=3,F(a,t);case 3:case"end":return e.stop()}}),e)}))),1e3),Ie=Object(S.a)(Object(w.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={appId:T,state:{userName:J,nationality:de,title:l,residency:N,jobTitle:Z,firstName:ne,emiratesId:ie,lastName:Y,email:p,mobile:h},userId:W,channel:B},e.next=3,F(a,t);case 3:case"end":return e.stop()}}),e)}))),1e3),ye=Object(S.a)(Object(w.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={appId:T,state:{userName:J,nationality:de,password:$,title:l,residency:N,jobTitle:Z,firstName:ne,emiratesId:ie,lastName:Y,email:p,mobile:h},userId:W,channel:B},e.next=3,F(a,t);case 3:case"end":return e.stop()}}),e)}))),1e3),ke=Object(S.a)(Object(w.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("pass debounced",h,Z,$,be),t=/^[6-9](\d{9}|\d{11})$/gm,h.match(t),n={appId:T,state:{userName:J,nationality:de,jobTitle:Z,title:l,residency:N,passwordConfirm:be,firstName:ne,emiratesId:ie,email:p,lastName:Y,password:$,mobile:h},userId:W,channel:B},localStorage.setItem("prevData",JSON.stringify(n.state)),e.next=7,F(a,n);case 7:case"end":return e.stop()}}),e)}))),1e3);return Object(n.useEffect)((function(){function e(){return(e=Object(w.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:t=e.sent,s(t.data.url),localStorage.getItem("prevData")&&(a=JSON.parse(localStorage.getItem("prevData")),u(a.title),j(a.email),g(a.mobile),A(a.residency),L(a.userName),X(a.lastName),z(a.password),ee(a.jobTitle),re(a.firstName),oe(a.emiratesId),me(a.nationality),fe(a.passwordConfirm));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.onbeforeunload=function(){localStorage.removeItem("prevData")},function(){e.apply(this,arguments)}()}),[]),Object(P.jsxs)(r.a.Fragment,{children:[Object(P.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:"Personal Information"}),Object(P.jsxs)(I.a,{container:!0,spacing:3,children:[Object(P.jsx)(I.a,{item:!0,xs:12,sm:4,children:Object(P.jsx)(y.a,{required:!0,value:J,onChange:function(e){L(e.target.value),Oe(e.target.value)},label:"User Name",fullWidth:!0,autoComplete:"user-name"})}),Object(P.jsx)(I.a,{item:!0,xs:12,sm:2,children:Object(P.jsx)(y.a,{id:"standard-select",select:!0,label:"Title",fullWidth:!0,value:l,onChange:function(e){u(e.target.value)},children:D.map((function(e){return Object(P.jsx)(k.a,{value:e,children:e},e)}))})}),Object(P.jsx)(I.a,{item:!0,xs:12,sm:3,children:Object(P.jsx)(y.a,{required:!0,value:ne,onChange:function(e){re(e.target.value),ve(e.target.value)},label:"First name",fullWidth:!0,autoComplete:"given-name"})}),Object(P.jsx)(I.a,{item:!0,xs:12,sm:3,children:Object(P.jsx)(y.a,{required:!0,value:Y,label:"Last name",fullWidth:!0,autoComplete:"family-name",onChange:function(e){X(e.target.value),he(e.target.value)}})}),Object(P.jsx)(I.a,{item:!0,xs:12,sm:3,children:Object(P.jsx)(y.a,{required:!0,id:"standard-select-nationality",select:!0,label:"Nationality",value:de,fullWidth:!0,onChange:function(e){me(e.target.value)},children:_.map((function(e){return Object(P.jsx)(k.a,{value:e,children:e},e)}))})}),Object(P.jsx)(I.a,{item:!0,xs:12,sm:3,children:Object(P.jsx)(y.a,{required:!0,id:"standard-select-residence",select:!0,label:"Residency",fullWidth:!0,value:N,onChange:function(e){A(e.target.value),ge(e.target.value)},children:q.map((function(e){return Object(P.jsx)(k.a,{value:e,children:e},e)}))})}),Object(P.jsx)(I.a,{item:!0,xs:12,sm:3,children:Object(P.jsx)(y.a,{required:!0,value:ie,onChange:function(e){return oe(e.target.value)},label:"Emirates ID",fullWidth:!0,autoComplete:"emirates-id"})}),Object(P.jsx)(I.a,{item:!0,xs:12,sm:3,children:Object(P.jsx)(y.a,{required:!0,value:p,label:"Email",fullWidth:!0,autoComplete:"email-id",onChange:function(e){j(e.target.value),xe(e.target.value)}})}),Object(P.jsx)(I.a,{item:!0,xs:12,sm:3,children:Object(P.jsx)(y.a,{required:!0,value:h,onChange:function(e){g(e.target.value),we(e.target.value)},label:"Mobile",fullWidth:!0,autoComplete:"mobile-no"})}),Object(P.jsx)(I.a,{item:!0,xs:12,sm:3,children:Object(P.jsx)(y.a,{required:!0,value:Z,onChange:function(e){ee(e.target.value),Ie(e.target.value)},label:"Job Title/Position",fullWidth:!0,autoComplete:"job-title"})}),Object(P.jsx)(I.a,{item:!0,xs:12,sm:3,children:Object(P.jsx)(y.a,{required:!0,value:$,onChange:function(e){z(e.target.value),ye(e.target.value)},label:"Password",fullWidth:!0,autoComplete:"password-1"})}),Object(P.jsx)(I.a,{item:!0,xs:12,sm:3,children:Object(P.jsx)(y.a,{required:!0,value:be,onChange:function(e){fe(e.target.value),ke(e.target.value)},label:"Verify Password",fullWidth:!0,autoComplete:"password-2"})})]})]})}var E=a(55);function U(){var e=r.a.useState(""),t=Object(i.a)(e,2),a=t[0],s=t[1],c=r.a.useState(""),o=Object(i.a)(c,2),l=o[0],u=o[1],d=r.a.useState(""),m=Object(i.a)(d,2),p=m[0],j=m[1],b=r.a.useState(""),f=Object(i.a)(b,2),h=f[0],g=f[1];Object(n.useEffect)((function(){function e(){return(e=Object(w.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:t=e.sent,s(t.data.url);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var x=Object(S.a)(Object(w.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("country debounced",p,h),p&&h){e.next=5;break}return t={appId:T,state:Object(E.a)({address:p,country:h},JSON.parse(localStorage.getItem("prevData"))),userId:W,channel:B},e.next=5,F(a,t);case 5:case"end":return e.stop()}}),e)}))),1e3),k=Object(S.a)(Object(w.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("all debounced",p,l,h),t={appId:T,state:Object(E.a)({address:p,city:l,country:h},JSON.parse(localStorage.getItem("prevData"))),userId:W,channel:B},e.next=4,F(a,t);case 4:case"end":return e.stop()}}),e)}))),1e3);return Object(P.jsxs)(r.a.Fragment,{children:[Object(P.jsx)(O.a,{variant:"h6",gutterBottom:!0,children:"Address Details"}),Object(P.jsxs)(I.a,{container:!0,spacing:3,children:[Object(P.jsx)(I.a,{item:!0,xs:12,children:Object(P.jsx)(y.a,{required:!0,value:p,onChange:function(e){return j(e.target.value)},label:"Address line 1",fullWidth:!0,autoComplete:"personal address-line1"})}),Object(P.jsx)(I.a,{item:!0,xs:12,children:Object(P.jsx)(y.a,{id:"address2",name:"address2",label:"Address line 2",fullWidth:!0,autoComplete:"personal address-line2"})}),Object(P.jsx)(I.a,{item:!0,xs:12,sm:6,children:Object(P.jsx)(y.a,{required:!0,value:h,onChange:function(e){g(e.target.value),x(e.target.value)},label:"Country",fullWidth:!0,autoComplete:"shipping country"})}),Object(P.jsx)(I.a,{item:!0,xs:12,sm:6,children:Object(P.jsx)(y.a,{required:!0,value:l,onChange:function(e){u(e.target.value),k(e.target.value)},label:"City",fullWidth:!0,autoComplete:"city-name"})})]})]})}function J(){return Object(P.jsxs)(O.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(P.jsx)(g.a,{color:"inherit",href:"https://material-ui.com/",children:"Techsophy"})," ",(new Date).getFullYear(),"."]})}var L=Object(l.a)((function(e){return{appBar:{position:"relative"},layout:Object(o.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:800,marginLeft:"200px",marginRight:"auto"}),paper:Object(o.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),Q=["Personal Information","Address details"];function R(e){switch(e){case 0:return Object(P.jsx)(A,{});case 1:return Object(P.jsx)(U,{});default:throw new Error("Unknown step")}}function Y(){var e=L(),t=r.a.useState(0),a=Object(i.a)(t,2),n=a[0],s=a[1];return Object(P.jsxs)(r.a.Fragment,{children:[Object(P.jsx)(u.a,{}),Object(P.jsx)(d.a,{position:"absolute",color:"default",className:e.appBar,children:Object(P.jsx)(m.a,{children:Object(P.jsx)(O.a,{variant:"h6",color:"inherit",noWrap:!0,children:"DCC SXP POC"})})}),Object(P.jsxs)("main",{className:e.layout,children:[Object(P.jsxs)(p.a,{className:e.paper,children:[Object(P.jsx)(O.a,{component:"h1",variant:"h4",align:"center",children:"User Registration"}),Object(P.jsx)(j.a,{activeStep:n,className:e.stepper,children:Q.map((function(e){return Object(P.jsx)(b.a,{children:Object(P.jsx)(f.a,{children:e})},e)}))}),Object(P.jsx)(r.a.Fragment,{children:n===Q.length?Object(P.jsxs)(r.a.Fragment,{children:[Object(P.jsx)(O.a,{variant:"h5",gutterBottom:!0,children:"Thank you for signing up."}),Object(P.jsx)(O.a,{variant:"subtitle1",children:"Your have been successfully registered. We have emailed confirmation, and will send you updates over the email."})]}):Object(P.jsxs)(r.a.Fragment,{children:[R(n),Object(P.jsxs)("div",{className:e.buttons,children:[0!==n&&Object(P.jsx)(h.a,{onClick:function(){s(n-1)},className:e.button,children:"Back"}),Object(P.jsx)(h.a,{variant:"contained",color:"primary",onClick:function(){localStorage.getItem("prevData")&&s(n+1)},className:e.button,children:n===Q.length-1?"Submit":"Next"})]})]})})]}),Object(P.jsx)(J,{})]})]})}var X,H=a(81),V=a.n(H),$=a(15);a(154),a(79);X=V()("https://sxp-dev.techsophy.com/",{path:"/sxp/socket.io/"});var z=function(e){var t=e.message;return Object(P.jsxs)("div",{className:"rcw-response",children:[Object(P.jsx)("div",{className:"rcw-message-text",dangerouslySetInnerHTML:{__html:t}}),Object(P.jsx)("span",{className:"rcw-timestamp",children:(new Date).toTimeString().slice(0,5)})]})};var G=function(){var e="5f476f84998b7900197c2e88",t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],s=a[1];Object(n.useEffect)((function(){X.on("joined",(function(e){Object($.addResponseMessage)("Joined Chat, Welcome!")})),X.emit("join",{userid:e,pId:"60be14a1c984fd0012193c15"}),X.on("disconnect",(function(){X.open()})),X.on("new_message",(function(e){return"button"===e.input_type?(Object($.setQuickButtons)(e.message.buttons.map((function(e){return{label:e.text,value:e.value}}))),Object($.renderCustomComponent)(z,{message:e.message.message},!0)):"Location"===e.input_type?s(!0):void Object($.renderCustomComponent)(z,{message:e.message},!0)}))}),[]);var c=function(){var t=Object(w.a)(v.a.mark((function t(a){var n,r,s,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://fileserver.techsophy.com/sxp/services/upload",(n=new FormData).append("file",a.target.files[0]),r={method:"POST",headers:{"content-type":"multipart/form-data"},data:n,url:"https://fileserver.techsophy.com/sxp/services/upload"},t.next=6,N()(r);case 6:s=t.sent,(c=s.data.data||[]).forEach((function(e){Object($.addUserMessage)("![vertical](".concat("https://fileserver.techsophy.com/","file/").concat(e,")"))})),X.emit("new_message",{attachments:c.map((function(e){return"".concat("https://fileserver.techsophy.com/","file/").concat(e)})),pId:"60be14a1c984fd0012193c15",accessToken:localStorage.getItem("token"),userid:e,appId:"working"});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(P.jsx)("div",{className:"customeChatStyle",children:Object(P.jsx)($.Widget,{title:"SXP",subtitle:"Service eXperience Platform",imagePreview:!0,showCloseButton:!0,fullScreenMode:!1,senderPlaceHolder:"Test Your Flow Here ...",handleNewUserMessage:function(t){Object($.setQuickButtons)([]),X.emit("new_message",{userid:e,pId:"60be14a1c984fd0012193c15",accessToken:localStorage.getItem("token"),appId:"working",message:t})},handleQuickButtonClicked:function(t){Object($.setQuickButtons)([]),Object($.addUserMessage)(t.label),X.emit("new_message",{userid:e,pId:"60be14a1c984fd0012193c15",accessToken:localStorage.getItem("token"),appId:"working",message:t.value})},onRestart:function(){Object($.setQuickButtons)([]),X.emit("new_message",{userid:e,pId:"60be14a1c984fd0012193c15",accessToken:localStorage.getItem("token"),appId:"working",message:"::restart"})},onEdit:function(){Object($.setQuickButtons)([]),X.emit("new_message",{userid:e,pId:"60be14a1c984fd0012193c15",accessToken:localStorage.getItem("token"),appId:"working",message:"::edit"})},onFileUpload:c,onLocationSubmit:function(t){s(!1),Object($.addUserMessage)(t.address),X.emit("new_message",{userid:e,pId:"60be14a1c984fd0012193c15",accessToken:localStorage.getItem("token"),appId:"working",message:JSON.stringify(t)})},showMap:r,onMapClose:function(){return s(!1)},defaultMapProps:{lat:17.4362,lng:78.4609,apiKey:"AIzaSyCV1WQkeoaA_aYvMeVXxrZkcdaitiQ34CA"}})})};var K=function(){return Object(P.jsxs)("div",{className:"App",children:[Object(P.jsx)(Y,{}),Object(P.jsx)(G,{},"chat")]})},Z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,214)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};c.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(K,{})}),document.getElementById("root")),Z()},79:function(e,t,a){},97:function(e,t,a){}},[[155,1,2]]]);
//# sourceMappingURL=main.63c068fe.chunk.js.map